<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MDT CIA</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#0b0f14;
  color:#fff;
}

/* Ø´Ø¹Ø§Ø± Ø¹Ø§Ù… ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ */
.global-logo{
  position:fixed;
  top:10px;
  left:10px;
  z-index:9999;
}
.global-logo img{
  width:70px;
  opacity:0.9;
}

/* Ø®Ù„ÙÙŠØ© Ø´Ø¹Ø§Ø± Ø®ÙÙŠÙØ© */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url("https://upload.wikimedia.org/wikipedia/commons/2/25/Seal_of_the_Central_Intelligence_Agency.svg") center/300px no-repeat;
  opacity:0.05;
  pointer-events:none;
}

.center{
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}

.card{
  background:#111823;
  border:1px solid #1f2a3a;
  border-radius:12px;
  padding:20px;
  width:320px;
}

.login-logo{
  text-align:center;
  margin-bottom:15px;
}
.login-logo img{
  width:120px;
}

input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #2a3952;
  background:#0f1623;
  color:#fff;
}

button{cursor:pointer}

.wrap{display:none}

.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px;
  border-bottom:1px solid #1a2545;
}

.map-wrap{position:relative}
#map{
  width:100%;
  border-radius:10px;
  border:1px solid #1f2a3a;
}

.pin{
  position:absolute;
  transform:translate(-50%,-100%);
  cursor:pointer;
}
.pin::after{content:"ğŸ“";font-size:24px}

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
}
</style>
</head>

<body>

<!-- Ø´Ø¹Ø§Ø± ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
<div class="global-logo">
  <img src="https://upload.wikimedia.org/wikipedia/commons/2/25/Seal_of_the_Central_Intelligence_Agency.svg" alt="CIA">
</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login" class="center">
  <div class="card">
    <div class="login-logo">
      <img src="https://upload.wikimedia.org/wikipedia/commons/2/25/Seal_of_the_Central_Intelligence_Agency.svg" alt="CIA">
    </div>
    <h2 id="t_login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input id="u" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
    <input id="p" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <button onclick="toggleLang()">AR / EN</button>
  </div>
</div>

<!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
<div id="app" class="wrap">
  <div class="top">
    <b id="welcome"></b>
    <button onclick="toggleLang()">AR / EN</button>
  </div>

  <div class="card">
    <h3 id="t_map">Ø§Ù„Ø®Ø±ÙŠØ·Ø©</h3>
    <p><b>â¬‡ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø© â¬‡</b></p>
    <div class="map-wrap">
      <img id="map">
    </div>
  </div>

  <div class="card">
    <h3>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</h3>
    <p><b>â¬‡ Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† â¬‡</b></p>
  </div>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø¯Ø¨ÙˆØ³ -->
<div id="modal" class="modal">
  <div class="card">
    <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø©</h3>
    <input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
    <input id="info" placeholder="Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª">
    <button onclick="savePin()">Ø­ÙØ¸</button>
    <button onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>
</div>

<script>
/* ===============================
   Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
================================= */
const USERS=[
  {username:"owner",password:"1234",role:"admin",banned:false},
  {username:"user1",password:"1111",role:"user",banned:false}
];

/* ===============================
   Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©
================================= */
const MAP_URL="https://i.imgur.com/4NZ6uLY.jpeg";

let currentUser=null;
let lang="ar";
let pins=[], clickPos=null;

function toggleLang(){
  lang = lang==="ar" ? "en" : "ar";
  document.getElementById("t_login").innerText = lang==="ar" ? "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" : "Login";
  document.getElementById("t_map").innerText = lang==="ar" ? "Ø§Ù„Ø®Ø±ÙŠØ·Ø©" : "Map";
}

function login(){
  const u = document.getElementById("u").value;
  const p = document.getElementById("p").value;
  const user = USERS.find(x=>x.username===u && x.password===p);
  if(!user) return alert("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
  if(user.banned) return alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­Ø¸ÙˆØ±");

  currentUser=user;
  document.getElementById("login").style.display="none";
  document.getElementById("app").style.display="block";
  document.getElementById("map").src = MAP_URL;
  document.getElementById("welcome").innerText =
    (lang==="ar" ? "Ù…Ø±Ø­Ø¨Ù‹Ø§ " : "Welcome ") + user.username;
}

const mapImg = document.getElementById("map");
mapImg.addEventListener("click", e => {
  const r=mapImg.getBoundingClientRect();
  clickPos={x:e.clientX-r.left, y:e.clientY-r.top};
  document.getElementById("modal").style.display="flex";
});

function closeModal(){
  document.getElementById("modal").style.display="none";
}

function savePin(){
  const n=document.getElementById("name").value;
  const i=document.getElementById("info").value;
  pins.push({x:clickPos.x,y:clickPos.y,name:n,info:i});
  renderPins();
  closeModal();
}

function renderPins(){
  document.querySelectorAll(".pin").forEach(p=>p.remove());
  pins.forEach(p=>{
    const d=document.createElement("div");
    d.className="pin";
    d.style.left=p.x+"px";
    d.style.top=p.y+"px";
    d.onclick=()=>alert(p.name+"\n"+p.info);
    document.querySelector(".map-wrap").appendChild(d);
  });
}
</script>

</body>
</html>
